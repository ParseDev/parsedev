<div class="flex justify-between items-center">
  <h3><%= dataquery.name %></h3>
  <div class="flex items-center">
    <%= link_to dataquery, class: 'px-2 py-1 text-blue-500 rounded-md hover:text-blue-600', target: '_blank' do %>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="w-4 h-4">
        <path strokeLinecap="round" strokeLinejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
      </svg>
    <% end %>

    <%= form_with(model: dataquery, url: dataquery_run_path(dataquery), method: :post, remote: true) do |form| %>
      <%= form.button(type: "submit", class: 'px-2 py-1 text-blue-500 rounded-md hover:text-blue-600') do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="w-4 h-4">
          <path strokeLinecap="round" strokeLinejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
        </svg>
      <% end %>
    <% end %>
  </div>
</div>

<div id="<%= dataquery.frame_id %>">
  <!-- Additional data query details -->

  <!-- Turboframe for the data query form and result -->
  
  <turbo-frame id="dataquery-frame-<%=dataquery.id%>" src="<%= dataquery_execute_path(dataquery, format: :turbo_stream) %>">
    <div class="flex justify-center items-center h-full mt-10">
        <%= render "shared/loader" %>
    </div>
  </turbo-frame>
</div>
